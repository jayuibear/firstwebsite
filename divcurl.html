<head> <title> Divergence and Curl </title> 
<link href="style.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
<style>
p {
  font-family: 'Open Sans', sans-serif;
}
h2 {
  font-family: 'Open Sans', sans-serif;
  }
  h1{
    font-family: 'Open Sans', sans-serif;
  }
 </style>
</head>
<body>
<h1>Divergence and Curl</h1>
<h2>Introduction</h2>
<p>When I first learned about graphing calculators, believe me, I spent countless hours cooped up in Desmos graphing all sorts of things. When I was introduced to polar and parametric functions, I did the same. When Taylor Series came around, you bet I was plotting lots of sums. When multivariable functions emerged, I was switching programs to GeoGebra to graph them. The point is, when you're introduced to a new way of visualizing math, you want to explore it somehow. So believe me when I say I had the same reaction with vector fields. These really are completely different from any other type of function so far. So, naturally, you'd want to know more things about them as soon as you stumble across them. Aside from you enjoying pretty looking vectors, it's important to be able to describe the behavior of functions as both a visual aid and to be able to reach important conclusions regarding them. The question is, then, how do you describe a vector field? Well, let's remind ourselves why we came up with them in the first place--they exist for physics, often to describe the flow of something in space. So, if you were an emerging physicist-mathematician in the early 19th century, what would you want to say about a vector field representing fluid flow? Would you want to say where it was going and how strong it was? Well, yes, but that comes in the package already--the equation describes both. </p>
<p>How would you describe a vector field which looks like this, rotating about the center?</p> <img src="vectorcalcimg/curl.png" style="width:50%;height:50%;">
<p> Or what about this one, which seems to flow out of the center? </p> <img src="vectorcalcimg/divergence.png" style="width:50%;height:50%;">
<p> You could imagine that actual bodies of water or other fluids behave this way, and it might be useful to have a way to categorize them. To someone who's only used to scalar-valued functions, though, it might be a bit difficult to even assess what vector field behavior means when all we're used to doing is travelling along a path or trasversing a surface. When it comes to vector fields, it's most important to be able to see what's going on all around a point in all directions, meaning that we'll be zooming into individual points and looking around them. There are no directions we have to travel towards--the only thing is to follow the flow sometimes. </p>
<h2>Divergence </h2>
<p>The examples I just showed weren't coincidences, by the way, these are some of the most important properties there are to learn about vector fields. We'll start with the idea of vectors flowing into or out of a certain point, which seems pretty similar to flux (we will see how the idea of flux is related to flowing into or out of points with something called the Divergence Theorem). Now, if this was the first time you ever saw vector fields and were asked to quantify this idea--how much a vector field "flows in" or "flows out" of a point, how would you do it? I truly encourage you to give this a pause before going on, because it's something quite simple but also very beautiful. I will say that just like with many mathematical concepts, the best idea is to start simple and then work your way up. Well, let's draw two extremely basic vector fields: one that points inwards, and one that points outwards from a point. Before getting into it, there's one assumption that we're going to make, positive versus negative. It should be no surprise even this far out from our solution that flowing inwards and outwards will end up representing different signs, but the question is, which one is which? Well, we set the standard with flux when we said that outward flow is positive orientation. The same thing will apply here as well: if a vector field appears to be flowing out of a point, we will say our value is positive. If it appears to be flowing inwards, we'll say that it's negative. This is just conventional, but we'll see how everything comes together in a bit.</p>
<p>So, what is the most basic way that we can represent net flow out of a point? Well, we would need four vectors, that way we could create something like this: </p> <img src="vectorcalcimg/divergencearrows.png">
<p> So, how on earth would we describe it as "it's left on the left and right on the right?" Actually, that's exactly how we'd want to describe it. That is, how do you describe the fact that the arrow on the left starts out pointing left and then points to the right? Well, if something starts pointing in the negative direction and ends pointing in the positive, that means there was a sign change from negative to positive--a positive derivative. Okay, wait, back up, what's increasing, and with respect to what? Well, our vector is increasing, but what about our vector? It starts pointing to the left and ends up pointing to the right. In other words, the x-component of our vector increases from a negative value to a positive one. Okay, so we have that this component is increasing, but with respect to what? Well, with respect to x. As we move to the right (increase x), our vectors also point more to the right. This all translates to the fact that the partial of the x-component with respect to x is positive. Again, don't get worked up by the fact that it's "x with respect to x"--these represent diferent things. In the vector field, the x-component is the part of the vector that points in the direcion parallel to the x-axis. In the scalar field, it means moving along this axis. Anyway, we have x taken care of. What about y? Well, it seems that the vertical component of our vector is increasing as y increases, so the partial of the y-component with respect to y is greater than 0. So, for a 2D vector field, it seems that the ability to act as a sink depends on partials of components. </p>
<p>It's time to combine both of these somehow. Remember, we want a positive value to represent pointing away from our point. We want both of these partials to be greater than 0. How should we put them together--add? Multiply? Compose some other way? Well, let's consider something else--how can we generalize acting as a source versus a sink? Well, what is a source? It means that a lot of water is coming out of it, and a sink is a place where water collects. Okay, so when does a source stop becoming a source and start becomign a sink? Well, you could keep flowing more water into the source until the amount of water flowing in exceeded the amount of water flowing out. So it seems that as long as more water flows in than out then it's a sink. Likewise, if more floats out than in, it's a source. What this means, then, is that the horizontal and vertical portions of our vectors can counterract each other a bit, but as long as net flow out exceeds net flow in, our value will be greater than 0. In that case, we should add our partials together. Why? If both are positive, we'll have a source. If both are negative, we'll have a sink (try drawing out the arrows, it's good practice). Now, if the partial with respect to x is positive but the partial with respect to y is negative, what's going to matter is the net flow--if it's in, we have a sink. If it's out, we have a source. Therefore, we should add our partial derivatives. Why? Imagine both partials are positive--their sum is also positive. If both our negative, the sum is also negative. Finally, if one is positive and one is negative, a sum will determine if overall, the flow is into or out of the point. If this value is greater than zero, then we have a net outward flow. If it's less than zero, we have a net inward flow. This is called divergence. It was easiest to visualize in two dimensions, but the same concept applies in three dimensions--you now introduce a component in the z-direction whose value increases as z increases, meaning the partial with respect to z is positive.</p>
<p> What we just did was actually pretty cool, don't you think? We were able to form an intuitive understanding for what divergence is, despite it being introduced in many textbooks as some foreign concept. Even more mysterious is the notation used to describe it. We often see divergence written as </p><img src="vectorcalcimg/divdot.png">
 <p> We know that the symbol on the left is the partial differential operator, and we have a vector field on the right. What's in between, though, is a dot product. Now, this should make zero sense: how can you dot an operator with a vector? Remember, a dot product is a measure of a few things, but it primarily measures how far apart two vectors are, or the component of one vector in the direction of another. The partial operators, however, do not form a vector in a traditional sense because they form an operation on a function. It's like putting addition and multiplication signs in a vector and dotting them with something. It makes no sense relative to what vectors are. However, think about doing what a dot product does notationally between two vectors. It sums the product of the components. So, imagine taking the partial derivative operator with respect to x and "multiplying" it by the x-component, doing the same for the other components, and adding them all up. "Multiplying" the operators by the components just means putting them next to each other, so you're being told to take the partial derivatives. Look where this ends up, though, we're taking the sum of the partial with respect to x of the x component, the partial with respect to y of the y component, and the partial with respect to z of the z component. That's divergence as we defined it. This dot product business is an abuse of notation. I don't know at the time of writing this if there actually is a relationship between divergence and dot products, but I'm going to guess that there is. Note that the explanation we just went over for the intuitive meaning of divergence is not rigorous at all--we'll go over a more formal definition of divergence later, relating to surface integrals.</p>
<p>While we introduced divergence as meaning the tendency of a point to act as a sink or a source, we generalized it to mean whether or not the rate at which a fluid enters the point is greater than the rate at which it leaves it. Ask yourself, now that you know that, what does it mean for the divergence of a vector field to be zero? It means that the rate at which fluid enter and leaves a point is the same. This is actually a very useful way to describe fluid flow on flat surfaces, since water doesn't necessarily tend to speed up or down if it doesn't face major disruptions. What kind of vector field has a divergence of zero, then? Well, let's restrict ourselves to a two-dimensional vector field for now. If the partial with respect to x of the x component plus the partial with respect to y of the y component is zero, that means that they are equal and opposite in magnitude. Keep that in mind for later, because we'll be using it in a few formulas. Just remember what it means for now.</p>
<p>It's time to go over a different concept: remember that picture of the vector field where they seemed to rotate around the origin? We want a measurement of how much a vector field rotates around a point. The formal definition of this actually only functions in three dimensions, but like with anything, it helps to simplify a concept first. Just like we did with divergence, let's simplify rotation to the most basic example possible: </p> <img src="vectorcalcimg/curlarrows.png">
<p> We learned after working through divergence that the best way to describe this is through differential equations. So, what do we have going on here? Well, we notice that as x increases, the y component of the vector field seems to be increasing, so the partial of the y component with respect to x is positive. However, notice that the horizontal component goes from positive to negative as y increases, meaning that the partial of the x component with respect to y is negative. Okay, that's a neat way to describe it. Here's the thing, though. How do we combine the two? This one's a bit harder than divergence, because we're looking at how the behavior transitions around the point. Well, to answer that, let's exactly think of what we want to quantify. We want to know how strongly the field is rotating, and the direction of its rotation. Strength is easy enough--the bigger our value, the stronger the rotation. Direction, in this case, is either clockwise or counterclockwise.  Just like with divergence, we have to make a decision. We have one or the other, meaning that one will be negatitve, and the other will be positive. Which one will be which? Well, as you've seen in math by now, it's conventional that counterclockwise rotation is considered the positive direction, so we will say that our net rotation is positive in the clockwise direction and negative in the counterclockwise direction. Okay, so it seems that we have to combine our differential equations in some way so that a positive result is clockwise, a negative result is counterclockwise. What this means is that we want our combination of a positive partial with respect to x combined with the negative partial with respect to y to form a positive number. How can we make a positive number and a negative number even more positive? Well, we can take the positive number and subtract the negative number. That would give us an even more positive number! Therefore, we can describe net rotation as this quantity:</p><img src="vectorcalcimg/curlcomp.png">
<p>So we have a nice intuition for what a clear-cut clockwise or counterclockwise rotation looks like. Mathematicians call this quantity the curl of the vector field. Here's the thing though. Unlike with divergence, where it was pretty straightforward whether or not flow out exceeded flow in, you can have vector fields that look nothing like the perfect rotation example still having a positive or negative curl. I will show an image of a vector field rotating around the origin given the vector field f(x,y) = yi-xj. So, if you were to calculate the amount of rotation, you'd get find the partial of the y component with respect to x minus the partial of the x component with respect to y, which for that vector field is -2. Here's a picture. </p> <img src="vectorcalcimg/curlzoom.png">
<p> That makes sense, right? Like, the whole thing is rotating around counterclockwise. Well, it sort of makes sense because it's all rotating around the middle. Think about what curl does, though. Curl tells you how much the vector field is rotating around a particular point. So does it really make sense to say that the strength and direction of the rotation is the same in both green circular regions? What's going on here? Well, while it's useful to think about curl as how much some fluid rotates around an area, more generally it tells us how much an object in this area will rotate. It's hard to describe the rotation of one single piece of fluid, like a drop of water, at a standstill. Instead, what if we took a long stick, made it stay still, and centered it at the point in the middle of the green circle on the right? Our image now looks like this </p> <img src="vectorcalcimg/curlstick.png">
<p>. Now, if that brown stick stays still, and we let the water push it around, in what direction will it rotate? Well, we know that the y component of our field is dependent on x, so the vectors that are pointing downwards on the right are stronger than the ones on the left, which means that more torque is being applied on the right side of the stick than the left side, leading to a net clockwise rotation. This interpretation of curl will resolve a lot of our qualms about its representation as an equation. The idea of creating a vector field that looks like a nice square rotation is also the most basic idea of what we just did. Think about putting a stick in the middle of the simple four-vector field we looked at, If you put a stick in the middle, it would still rotate in a counter-clockwise way. </p>
<p>Okay, so we've armed ourselves with divergence and curl, we should look at some properties them now. Not so fast. It was straightforward defining divergence in two and three dimensions, but we've only looked at a 2d-version of curl. In fact, curl is really a three dimensional quality. Our 2d curl is a special case where the z-component of our vector field is some cosntant. Rotation in three dimensions is a bit harder to describe. Remember, divergence only cared about what happened into and out of a certain point. Curl is a bit more complicated because we care about what's going around the entire point. With 2d rotation, our strength was a simple number, and the direction of rotation was just positive or negative depending on if the rotation was counterclockwise or clockwise. The strength of a 3d rotation can be relatively straightforward (revolutions per second, perhaps?), but the direction? Well, think about a common object that's described in three dimensions which is rotated--the Earth. How do people describe the Earth rotating (not revolving around the sun)? We say that Earth rotates along its axis, you know, with a long pole going straight through it. The earth rotates around this pole, which is effectively a line in space. A line in space with a certain direction and magnitude? We can use a vector to describe this axis of rotation. So, unlike with 2d rotation, computing curl in three dimensions will actually return a vector as a value. We've used the idea of two-dimensional curl up to now, so what should we do to extend it to three dimensions for the particular example that we've been working with? Well, think about an image of the Earth spinning on its axis (I'll put one here). </p><img src="vectorcalcimg/earthspin.png">
<p>Notice that because the Earth is tilted at an angle, the pole passes right through the middle, but it's at a bit of an angle (23.5 degrees to be exact). On the other hand, our vector field is directly sitting on a horizontal plane (let's say z=0 for convenience) without any tilt. Therefore, the curl vector will be pointing straight up for counterclockwise rotation and straight down for clockwise rotation. In other words, the 2d curl value that we found earlier actually ends up being the z-component of our 3d curl, but what about our other components? Well, that's going to depend on having vector fields which represent rotation in space across multiple z-values. We now have to think about how to calculate them. </p>
<p>The total net rotation of every point in space depends on a vector--and we've seen the total net rotation in the z-direction already. We also need to see the net rotation in the x direction and y direction (in other words, again, imagine a globe rotating at the point--how much is it rotating in the direction of the pole pointing outwards in each direction?). It's basically the same as conducting the 2d curl exercise on all 3 planes--on the xz plane, the curl vector goes in the y direction. On the yz plane, the x direction. At each and every point, the rotation goes a certain amount in each direction, which makes up the comoponents of our final curl vector. If you wanted, you could do the 2d curl exercise on all the planes and put them together, but I'll just tell you right here: the final vector for curl will look like this:</p><img src="vectorcalcimg/curldef.png">
<p>It's incorrect to call this a vector, though, rather, it's actually another vector field! Every point is assigned a vector based on its position in space. Now that's pretty cool, isn't it? Now, I know what you're thinking. How on earth are you going to memorize that equation? Well, there's actually another notational "trick" (I call it that because I'm almost 100% sure there's actually something behind it). We can represent it as such: </p><img src="vectorcalcimg/curlcross.png">
<p>We're taking the cross product of the partial differential operators with our vector field. Again, doesn't really make sense to use an operator in something like a cross product, right? In the end, though, it does end up working out to the formula we just derived. That is how you'll calculate curl from now on.</p>
<p>We've just (informally and non-rigorously) derived two extremely important properties of vector fields--one of them is scalar-valued, the other is another vector field. Both tell us a story about the behavior of a vector field near a certain point but in different ways. It's extremely important to have a solid intuitive understanding for how we arrived here for two reasons. The first is that we can use both divergence and curl as tools for helping us solve surface integrals. The second is that keeping this intuition in mind will help us as we transition into more formal definitions of divergence and curl.  </p>
<h2>Properties of divergence and curl </h2>
<p>Now that we have access to two new, powerful operators, we can explore their effects on many different vector fields. Just like with many things in math, there is often something interesting to be said if the result of an operator is zero. *COMING SOON* </p>
<p> Here's a visual refresher on <a href="divvis.html">Divergence</a> and <a href="curlvis.html">Curl</a>. </p>

</body>
